# 九、编写`__delete__()`

这将是一个很短的章节，因为没有那么多要说的，但它并不适合其他章节。另外，`__get__()`和`__set__()`也有各自的章节。

大多数描述符教程甚至没有提到用`__delete__()`做什么，他们甚至经常在他们的示例描述符上没有方法。

如果描述符只在内部使用(而不是在公共库中),并且在内部代码中从未调用过`del`,那么实现`__delete__()`方法就没有意义。但是在公共库中，没有办法知道用户是否会在描述符属性上使用`del`。因此，通常最安全的方法是在库中包含对数据描述符的工作`__delete__()`方法。这些方法的外观取决于属性的存储方式。

对于内部存储，删除`dict`中的条目:

```py
del self.storage[instance]

```

对于外部存储，从实例字典中删除:

```py
del vars(instance)[name]

```

如果描述符不代表一个存储值，什么也不做。除了描述符可能具有的额外功能之外，`__delete__()`方法看起来几乎没有什么变化。

## 摘要

我们已经看到`__delete__()`是一个实现起来非常简单的方法，但是决定是否实际实现它可能是一个困难的决定。不过，最终它会被用得如此之少，以至于它的实现可能会被推迟到需要的时候。由于缺少实现而引发异常的默认行为应该可以让您坚持到那时。